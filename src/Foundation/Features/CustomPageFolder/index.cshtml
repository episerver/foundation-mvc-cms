@using Foundation.Features.CustomPageFolder

@model ContentViewModel<CustomPage>

<div style="display: flex; flex-wrap: wrap;">
    <div class="col-12 custom-page__container">
        <div class="custom-page__box">
            <h1>
                @Html.PropertyFor(x => x.CurrentContent.Heading)
            </h1>
            <div class="custom-page__hero">
                @if (!ContentReference.IsNullOrEmpty(Model.CurrentContent.BackgroundVideo))
                {
                    <video class="custom-page__video" autoplay loop playsinline muted>
                        <source src="@Url.ContentUrl(Model.CurrentContent.BackgroundVideo)" type="video/mp4" @Html.EditAttributes(x => x.CurrentContent.BackgroundVideo)>
                    </video>
                }
                else if (!ContentReference.IsNullOrEmpty(Model.CurrentContent.BackgroundImage))
                {
                    <img class="custom-page__banner lazyload" data-src="@Url.ContentUrl(Model.CurrentContent.BackgroundImage)?width=1440&format=webp" loading="lazy" />
                    <!--<div class="hero__gradient">
                    </div>-->
                    <div style="height: 100%; width: 100%;">
                    </div>
                }
            </div>
            <div class="custom-page__content">
                @if ((Model.CurrentContent.MainBody != null && !Model.CurrentContent.MainBody.IsEmpty) || Html.IsInEditMode())
                {
                    <div class="row">
                        <div class="col-12">
                            @Html.PropertyFor(m => m.CurrentContent.MainBody)
                        </div>
                    </div>
                }
                <div class="row">
                    <div class="col-12">
                        @Html.PropertyFor(x => x.CurrentContent.MainContentArea)
                    </div>
                </div>
            </div>
            <div>
                <h1>
                    Publish count: @(Model.CurrentContent.PublishCounterValue)
                </h1>
            </div>
        </div>
    </div>
</div>